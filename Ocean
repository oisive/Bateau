package BateauBase;
import java.util.Random;

public class Ocean {
	private int nombreBateau;
	private Case tableau[][];
	
	public Ocean(){
		nombreBateau = 0;
		tableau = new Case[0][0];
	}
	
	public Ocean(int nombre){
		nombreBateau = nombre;
		tableau = new Case[nombre][nombre];
		for(int i = 0 ; i < nombre ; ++i){
			for(int j = 0 ; j < nombre ; ++j){
				tableau[i][j] = new Case();
			}
		}
	}
	
	public int getNombreBateau(){
		return nombreBateau;
	}
	
	public Case[][] getTableau(){
		return tableau;
	}
	
	public Case getCase(int i, int j){
		return tableau[i][j];
	}
	
	public void placerBateaux(){
		int ligne;
		int colonne;
		int max = getNombreBateau();
		Random rand1 = new Random();
		Random rand2 = new Random();
	
		
		for(int i = 0 ; i < max ; ++i){
			Bateau b = new Bateau(i);
			ligne = rand1.nextInt(max);
			colonne = rand2.nextInt(max);
			tableau[ligne][colonne].ajouterBateau(b);
		}
	}
	
	public void parcourir(){
		int limite = getNombreBateau();
		Bateau b = new Bateau();
		for(int i = 0 ; i < limite ; i++){
			for(int j = 0 ; j < limite ; j++){
				if(!getCase(i,j).estVide()){
					for(int k = 0 ; k < getCase(i,j).getNombreBateauxCase() ; k++){
						b = getCase(i,j).getBateau(k);
					}		
				}
			}
		}
	}
	
	
	
	
	public void deplacerBateau(){
		int limite = getNombreBateau();
		
		for(int i = 0 ; i < limite ; i++){	// on parcourt toutes les lignes du tableau
			for(int j = 0 ; j < limite ; j++){// on parcourt toutes les colonnes du tableau, on tombe donc sur une case			
				if(!tableau[i][j].estVide()){					// si le tableau de bateaux n'est pas vide
					while(!tableau[i][j].estVide()){			// on le parcourt
						int k = 0;
						Bateau b = new Bateau();			
						
						b = tableau[i][j].getBateau(k);			// on stocke le bateau
						tableau[i][j].sortirBateau(k);			// puis on le sort
						
						if(j == limite - 1) {		// si le bateau etait au bout de sa ligne ; tapait sur la droite
							if(i == limite - 1) {	// si le bateau etait tout en bas egalement
								tableau[0][0].ajouterBateau(b); // on le bouge sur la premiere case
								System.out.println("cas 1 pour la case : " + k);
							}
							else{
								tableau[i+1][0].ajouterBateau(b); // s'il n'était pas tout en bas on le bouge au début de la ligne suivante
								System.out.println("cas 2 pour la case : " + k);
							}						
						}
						else{
							tableau[i][j+1].ajouterBateau(b);	// s'il n'était ni tout en bas ni au bout de sa ligne, il avance sur la case à côté	
							System.out.println("cas 3 pour la case : " + k);
						}
						
					}						
				}
			}
		}
	}
	

	
	
	
	
	
	
	
	
	
	
	
	
}
